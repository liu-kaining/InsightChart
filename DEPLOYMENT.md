# InsightChart AI - éƒ¨ç½²æ¶æ„è¯´æ˜

## ğŸ—ï¸ éƒ¨ç½²æ¶æ„æ¦‚è§ˆ

InsightChart AI é‡‡ç”¨**å•å®¹å™¨éƒ¨ç½²**æ¶æ„ï¼Œå‰ç«¯å’Œåç«¯éƒ½åœ¨åŒä¸€ä¸ªDockerå®¹å™¨ä¸­è¿è¡Œï¼Œç®€åŒ–äº†éƒ¨ç½²å’Œç»´æŠ¤ã€‚

## ğŸ“¦ å®¹å™¨æ¶æ„

### ç”Ÿäº§ç¯å¢ƒï¼ˆå•å®¹å™¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Docker Container          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Flask Backend           â”‚ â”‚
â”‚  â”‚  - Python 3.9                  â”‚ â”‚
â”‚  â”‚  - Flask 3.0                   â”‚ â”‚
â”‚  â”‚  - Pandas                      â”‚ â”‚
â”‚  â”‚  - å¤§æ¨¡å‹é€‚é…å™¨                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Static Frontend Files      â”‚ â”‚
â”‚  â”‚  - Vue 3 æ„å»ºäº§ç‰©               â”‚ â”‚
â”‚  â”‚  - ECharts å›¾è¡¨åº“               â”‚ â”‚
â”‚  â”‚  - Element Plus UIç»„ä»¶          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¼€å‘ç¯å¢ƒï¼ˆå•å®¹å™¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Development Container        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Flask Backend           â”‚ â”‚
â”‚  â”‚  - Python 3.9                  â”‚ â”‚
â”‚  â”‚  - Flask 3.0 (å¼€å‘æ¨¡å¼)         â”‚ â”‚
â”‚  â”‚  - ä»£ç çƒ­é‡è½½                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Static Frontend Files      â”‚ â”‚
â”‚  â”‚  - Vue 3 æ„å»ºäº§ç‰©               â”‚ â”‚
â”‚  â”‚  - å¼€å‘æ¨¡å¼æ„å»º                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯å®ç°

### å¤šé˜¶æ®µæ„å»º (Dockerfile)

```dockerfile
# ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºå‰ç«¯
FROM node:18-alpine AS frontend-builder
WORKDIR /app/frontend
COPY frontend/package*.json ./
RUN npm install
COPY frontend/ ./
RUN npm run build  # ç”Ÿæˆé™æ€æ–‡ä»¶

# ç¬¬äºŒé˜¶æ®µï¼šæ„å»ºåç«¯
FROM python:3.9-slim AS backend
WORKDIR /app
COPY backend/requirements.txt ./
RUN pip install -r requirements.txt
COPY backend/ ./

# å…³é”®æ­¥éª¤ï¼šå¤åˆ¶å‰ç«¯æ„å»ºäº§ç‰©åˆ°åç«¯é™æ€ç›®å½•
COPY --from=frontend-builder /app/frontend/dist ./static
```

### Flaské™æ€æ–‡ä»¶æœåŠ¡

```python
# backend/app.py
app = Flask(__name__, static_folder='static', static_url_path='')

@app.route('/')
def index():
    """æœåŠ¡å‰ç«¯é¦–é¡µ"""
    return send_file(os.path.join(app.static_folder, 'index.html'))

@app.route('/<path:path>')
def serve_frontend(path):
    """æœåŠ¡å‰ç«¯é™æ€æ–‡ä»¶æˆ–SPAè·¯ç”±"""
    if path.startswith('api/'):
        abort(404)  # è®©Flaskå¤„ç†APIè·¯ç”±
    
    try:
        return send_from_directory(app.static_folder, path)
    except FileNotFoundError:
        return send_file(os.path.join(app.static_folder, 'index.html'))
```

## ğŸš€ éƒ¨ç½²æ–¹å¼

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰
./deploy.sh

# æˆ–æ‰‹åŠ¨éƒ¨ç½²
docker-compose up -d
```

**ç‰¹ç‚¹**ï¼š
- âœ… å•å®¹å™¨éƒ¨ç½²ï¼Œç®€åŒ–è¿ç»´
- âœ… å‰ç«¯æ„å»ºåé›†æˆï¼Œæ€§èƒ½ä¼˜åŒ–
- âœ… è‡ªåŠ¨å¥åº·æ£€æŸ¥
- âœ… ç«¯å£æ˜ å°„ï¼š5004:5000

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

```bash
# å¼€å‘ç¯å¢ƒï¼ˆå•å®¹å™¨ï¼‰
docker-compose -f docker-compose.dev.yml up -d
```

**ç‰¹ç‚¹**ï¼š
- âœ… å•å®¹å™¨éƒ¨ç½²ï¼Œç®€åŒ–å¼€å‘æµç¨‹
- âœ… å‰ç«¯æ„å»ºåé›†æˆï¼Œä¸ç”Ÿäº§ç¯å¢ƒä¸€è‡´
- âœ… åç«¯ä»£ç çƒ­é‡è½½æ”¯æŒï¼ˆé€šè¿‡å·æŒ‚è½½ï¼‰
- âœ… ç»Ÿä¸€çš„å¼€å‘æœåŠ¡å™¨ç«¯å£ï¼š5004

## ğŸ“Š æ¶æ„ä¼˜åŠ¿

### å•å®¹å™¨éƒ¨ç½²ä¼˜åŠ¿

1. **ç®€åŒ–éƒ¨ç½²**
   - åªéœ€è¦å¯åŠ¨ä¸€ä¸ªå®¹å™¨
   - å‡å°‘ç½‘ç»œé…ç½®å¤æ‚åº¦
   - é™ä½èµ„æºæ¶ˆè€—

2. **ç»Ÿä¸€ç®¡ç†**
   - å•ä¸€æ—¥å¿—æµ
   - ç»Ÿä¸€ç›‘æ§å’Œå¥åº·æ£€æŸ¥
   - ç®€åŒ–å¤‡ä»½å’Œæ¢å¤

3. **æ€§èƒ½ä¼˜åŒ–**
   - å‰ç«¯é™æ€æ–‡ä»¶ç”±Flaskç›´æ¥æœåŠ¡
   - å‡å°‘ç½‘ç»œè·³è½¬
   - æ›´å¥½çš„ç¼“å­˜æ§åˆ¶

4. **è¿ç»´å‹å¥½**
   - å‡å°‘å®¹å™¨é—´é€šä¿¡é—®é¢˜
   - ç®€åŒ–æ•…éšœæ’æŸ¥
   - é™ä½éƒ¨ç½²å¤±è´¥é£é™©

### å¼€å‘ç¯å¢ƒä¼˜åŠ¿

1. **ç®€åŒ–å¼€å‘æµç¨‹**
   - å•å®¹å™¨éƒ¨ç½²ï¼Œå‡å°‘é…ç½®å¤æ‚åº¦
   - ä¸ç”Ÿäº§ç¯å¢ƒæ¶æ„ä¸€è‡´ï¼Œé¿å…ç¯å¢ƒå·®å¼‚
   - ç»Ÿä¸€çš„ç«¯å£å’Œè®¿é—®æ–¹å¼

2. **ä»£ç çƒ­é‡è½½**
   - åç«¯ä»£ç çƒ­é‡è½½ï¼ˆé€šè¿‡å·æŒ‚è½½ï¼‰
   - å‰ç«¯ä»£ç ä¿®æ”¹åéœ€è¦é‡æ–°æ„å»ºï¼ˆå¯é€‰ï¼‰
   - æ”¯æŒå®æ—¶è°ƒè¯•å’Œå¼€å‘

3. **èµ„æºä¼˜åŒ–**
   - å‡å°‘å®¹å™¨èµ„æºæ¶ˆè€—
   - ç®€åŒ–ç½‘ç»œé…ç½®
   - ç»Ÿä¸€çš„æ—¥å¿—ç®¡ç†

## ğŸ” éªŒè¯éƒ¨ç½²

### æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f

# å¥åº·æ£€æŸ¥
curl http://localhost:5004/health
```

### è®¿é—®åº”ç”¨

- **ç”Ÿäº§ç¯å¢ƒ**: http://localhost:5004
- **å¼€å‘ç¯å¢ƒ**: http://localhost:5004

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å‰ç«¯æ–‡ä»¶æœªæ‰¾åˆ°**
   ```bash
   # æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸ
   docker-compose build --no-cache
   ```

2. **ç«¯å£å†²çª**
   ```bash
   # ä¿®æ”¹ç«¯å£æ˜ å°„
   # docker-compose.yml
   ports:
     - "8080:5000"  # æ”¹ä¸ºå…¶ä»–ç«¯å£
   ```

3. **é™æ€æ–‡ä»¶æœåŠ¡é—®é¢˜**
   ```bash
   # æ£€æŸ¥å®¹å™¨å†…æ–‡ä»¶
   docker exec insightchart-app ls -la /app/static
   ```

## ğŸ“ æ€»ç»“

InsightChart AI é‡‡ç”¨ç»Ÿä¸€çš„å•å®¹å™¨éƒ¨ç½²æ¶æ„ï¼š

- **ç”Ÿäº§ç¯å¢ƒ**ï¼šå•å®¹å™¨éƒ¨ç½²ï¼Œç®€åŒ–è¿ç»´ï¼Œæå‡æ€§èƒ½
- **å¼€å‘ç¯å¢ƒ**ï¼šå•å®¹å™¨éƒ¨ç½²ï¼Œç®€åŒ–å¼€å‘æµç¨‹ï¼Œä¸ç”Ÿäº§ç¯å¢ƒä¸€è‡´

è¿™ç§æ¶æ„è®¾è®¡æ—¢ä¿è¯äº†ç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šæ€§å’Œæ€§èƒ½ï¼Œåˆä¸ºå¼€å‘äººå‘˜æä¾›äº†ç®€åŒ–çš„å¼€å‘ä½“éªŒï¼Œé¿å…äº†ç¯å¢ƒå·®å¼‚å¸¦æ¥çš„é—®é¢˜ã€‚
