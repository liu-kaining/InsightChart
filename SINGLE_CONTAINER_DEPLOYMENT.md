# InsightChart AI - å•å®¹å™¨éƒ¨ç½²æ¶æ„

## ğŸ¯ ä¿®æ”¹ç›®æ ‡

å°† InsightChart AI çš„éƒ¨ç½²æ¶æ„ç»Ÿä¸€ä¸º**å•å®¹å™¨éƒ¨ç½²**ï¼Œæ— è®ºæ˜¯ç”Ÿäº§ç¯å¢ƒè¿˜æ˜¯å¼€å‘ç¯å¢ƒï¼Œéƒ½åªéœ€è¦å¯åŠ¨ä¸€ä¸ªå®¹å™¨å³å¯è¿è¡Œå®Œæ•´çš„åº”ç”¨ã€‚

## ğŸ”„ ä¿®æ”¹å†…å®¹

### 1. ç”Ÿäº§ç¯å¢ƒï¼ˆå·²æ”¯æŒå•å®¹å™¨ï¼‰

**æ–‡ä»¶**: `docker-compose.yml`
- âœ… ç§»é™¤äº†å¯é€‰çš„ nginx æœåŠ¡
- âœ… åªä¿ç•™ä¸€ä¸ª `insightchart` æœåŠ¡
- âœ… å‰ç«¯æ„å»ºåé›†æˆåˆ°åç«¯å®¹å™¨ä¸­

### 2. å¼€å‘ç¯å¢ƒï¼ˆä¿®æ”¹ä¸ºå•å®¹å™¨ï¼‰

**æ–‡ä»¶**: `docker-compose.dev.yml`
- âœ… ç§»é™¤äº†å‰ç«¯å®¹å™¨ `frontend-dev`
- âœ… åªä¿ç•™ä¸€ä¸ª `insightchart-dev` æœåŠ¡
- âœ… å‰ç«¯æ„å»ºåé›†æˆåˆ°åç«¯å®¹å™¨ä¸­

**æ–‡ä»¶**: `backend/Dockerfile.dev`
- âœ… ä½¿ç”¨å¤šé˜¶æ®µæ„å»º
- âœ… ç¬¬ä¸€é˜¶æ®µæ„å»ºå‰ç«¯
- âœ… ç¬¬äºŒé˜¶æ®µæ„å»ºåç«¯å¹¶é›†æˆå‰ç«¯

**æ–‡ä»¶**: `frontend/Dockerfile.dev`
- âœ… å·²åˆ é™¤ï¼ˆä¸å†éœ€è¦ï¼‰

### 3. æ–°å¢å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬

**æ–‡ä»¶**: `dev.sh`
- âœ… å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨è„šæœ¬
- âœ… æ”¯æŒå¤šç§ç®¡ç†å‘½ä»¤
- âœ… è‡ªåŠ¨æ£€æŸ¥å’Œé…ç½®

## ğŸ—ï¸ æ¶æ„å¯¹æ¯”

### ä¿®æ”¹å‰ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚    Backend      â”‚
â”‚   Container     â”‚    â”‚   Container     â”‚
â”‚   Port: 3003    â”‚â—„â”€â”€â–ºâ”‚   Port: 5004    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¿®æ”¹åï¼ˆç»Ÿä¸€å•å®¹å™¨ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Single Container          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Flask Backend           â”‚ â”‚
â”‚  â”‚  - Python 3.9                  â”‚ â”‚
â”‚  â”‚  - Flask 3.0                   â”‚ â”‚
â”‚  â”‚  - å¤§æ¨¡å‹é€‚é…å™¨                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      Static Frontend Files      â”‚ â”‚
â”‚  â”‚  - Vue 3 æ„å»ºäº§ç‰©               â”‚ â”‚
â”‚  â”‚  - ECharts å›¾è¡¨åº“               â”‚ â”‚
â”‚  â”‚  - Element Plus UIç»„ä»¶          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ éƒ¨ç½²æ–¹å¼

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä¸€é”®éƒ¨ç½²
./deploy.sh

# æˆ–æ‰‹åŠ¨éƒ¨ç½²
docker-compose up -d

# è®¿é—®åœ°å€
http://localhost:5004
```

### å¼€å‘ç¯å¢ƒ
```bash
# ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
./dev.sh

# æˆ–æ‰‹åŠ¨å¯åŠ¨
docker-compose -f docker-compose.dev.yml up -d

# è®¿é—®åœ°å€
http://localhost:5004
```

## ğŸ“Š ä¼˜åŠ¿å¯¹æ¯”

### å•å®¹å™¨éƒ¨ç½²ä¼˜åŠ¿

1. **ç®€åŒ–éƒ¨ç½²**
   - âœ… åªéœ€è¦å¯åŠ¨ä¸€ä¸ªå®¹å™¨
   - âœ… å‡å°‘ç½‘ç»œé…ç½®å¤æ‚åº¦
   - âœ… é™ä½èµ„æºæ¶ˆè€—

2. **ç»Ÿä¸€ç®¡ç†**
   - âœ… å•ä¸€æ—¥å¿—æµ
   - âœ… ç»Ÿä¸€ç›‘æ§å’Œå¥åº·æ£€æŸ¥
   - âœ… ç®€åŒ–å¤‡ä»½å’Œæ¢å¤

3. **ç¯å¢ƒä¸€è‡´æ€§**
   - âœ… å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒæ¶æ„ä¸€è‡´
   - âœ… é¿å…ç¯å¢ƒå·®å¼‚å¸¦æ¥çš„é—®é¢˜
   - âœ… å‡å°‘è°ƒè¯•å’Œéƒ¨ç½²é—®é¢˜

4. **è¿ç»´å‹å¥½**
   - âœ… å‡å°‘å®¹å™¨é—´é€šä¿¡é—®é¢˜
   - âœ… ç®€åŒ–æ•…éšœæ’æŸ¥
   - âœ… é™ä½éƒ¨ç½²å¤±è´¥é£é™©

### å¼€å‘ä½“éªŒ

1. **ä»£ç çƒ­é‡è½½**
   - âœ… åç«¯ä»£ç çƒ­é‡è½½ï¼ˆé€šè¿‡å·æŒ‚è½½ï¼‰
   - âœ… å‰ç«¯ä»£ç ä¿®æ”¹åéœ€è¦é‡æ–°æ„å»ºï¼ˆå¯é€‰ï¼‰
   - âœ… æ”¯æŒå®æ—¶è°ƒè¯•å’Œå¼€å‘

2. **ç»Ÿä¸€ç«¯å£**
   - âœ… å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç›¸åŒç«¯å£
   - âœ… é¿å…ç«¯å£é…ç½®æ··ä¹±
   - âœ… ç®€åŒ–è®¿é—®æ–¹å¼

## ğŸ”§ æŠ€æœ¯å®ç°

### å¤šé˜¶æ®µæ„å»º
```dockerfile
# ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºå‰ç«¯
FROM node:18-alpine AS frontend-builder
WORKDIR /app/frontend
COPY frontend/package*.json ./
RUN npm install
COPY frontend/ ./
RUN npm run build

# ç¬¬äºŒé˜¶æ®µï¼šæ„å»ºåç«¯
FROM python:3.9-slim
WORKDIR /app
COPY backend/requirements.txt ./
RUN pip install -r requirements.txt
COPY backend/ ./

# å…³é”®ï¼šå¤åˆ¶å‰ç«¯æ„å»ºäº§ç‰©
COPY --from=frontend-builder /app/frontend/dist ./static
```

### Flaské™æ€æ–‡ä»¶æœåŠ¡
```python
# é…ç½®é™æ€æ–‡ä»¶ç›®å½•
app = Flask(__name__, static_folder='static', static_url_path='')

# æœåŠ¡å‰ç«¯é¦–é¡µ
@app.route('/')
def index():
    return send_file(os.path.join(app.static_folder, 'index.html'))

# æœåŠ¡å‰ç«¯è·¯ç”±ï¼ˆSPAæ”¯æŒï¼‰
@app.route('/<path:path>')
def serve_frontend(path):
    if path.startswith('api/'):
        abort(404)  # è®©Flaskå¤„ç†APIè·¯ç”±
    
    try:
        return send_from_directory(app.static_folder, path)
    except FileNotFoundError:
        return send_file(os.path.join(app.static_folder, 'index.html'))
```

## ğŸ“ ä½¿ç”¨è¯´æ˜

### å¼€å‘ç¯å¢ƒç®¡ç†

```bash
# å¯åŠ¨å¼€å‘ç¯å¢ƒ
./dev.sh

# æŸ¥çœ‹çŠ¶æ€
./dev.sh status

# æŸ¥çœ‹æ—¥å¿—
./dev.sh logs

# åœæ­¢å¼€å‘ç¯å¢ƒ
./dev.sh stop

# é‡å¯å¼€å‘ç¯å¢ƒ
./dev.sh restart

# é‡æ–°æ„å»º
./dev.sh rebuild
```

### ç”Ÿäº§ç¯å¢ƒç®¡ç†

```bash
# éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ
./deploy.sh

# æŸ¥çœ‹çŠ¶æ€
./deploy.sh status

# æŸ¥çœ‹æ—¥å¿—
./deploy.sh logs

# åœæ­¢æœåŠ¡
./deploy.sh stop

# é‡å¯æœåŠ¡
./deploy.sh restart
```

## âœ… éªŒè¯æ¸…å•

- [x] ç”Ÿäº§ç¯å¢ƒå•å®¹å™¨éƒ¨ç½²
- [x] å¼€å‘ç¯å¢ƒå•å®¹å™¨éƒ¨ç½²
- [x] å‰ç«¯æ„å»ºé›†æˆ
- [x] é™æ€æ–‡ä»¶æœåŠ¡
- [x] SPAè·¯ç”±æ”¯æŒ
- [x] å¥åº·æ£€æŸ¥
- [x] å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
- [x] æ–‡æ¡£æ›´æ–°
- [x] ç«¯å£ç»Ÿä¸€ï¼ˆ5004ï¼‰

## ğŸ‰ æ€»ç»“

é€šè¿‡è¿™æ¬¡ä¿®æ”¹ï¼ŒInsightChart AI ç°åœ¨é‡‡ç”¨ç»Ÿä¸€çš„å•å®¹å™¨éƒ¨ç½²æ¶æ„ï¼š

- **ç”Ÿäº§ç¯å¢ƒ**ï¼šå•å®¹å™¨éƒ¨ç½²ï¼Œç®€åŒ–è¿ç»´
- **å¼€å‘ç¯å¢ƒ**ï¼šå•å®¹å™¨éƒ¨ç½²ï¼Œç®€åŒ–å¼€å‘æµç¨‹
- **ç»Ÿä¸€ç«¯å£**ï¼š5004ç«¯å£è®¿é—®
- **ç»Ÿä¸€ç®¡ç†**ï¼šç®€åŒ–çš„å¯åŠ¨å’Œç®¡ç†è„šæœ¬

è¿™ç§æ¶æ„è®¾è®¡æ—¢ä¿è¯äº†ç”Ÿäº§ç¯å¢ƒçš„ç¨³å®šæ€§å’Œæ€§èƒ½ï¼Œåˆä¸ºå¼€å‘äººå‘˜æä¾›äº†ç®€åŒ–çš„å¼€å‘ä½“éªŒï¼Œé¿å…äº†ç¯å¢ƒå·®å¼‚å¸¦æ¥çš„é—®é¢˜ã€‚
